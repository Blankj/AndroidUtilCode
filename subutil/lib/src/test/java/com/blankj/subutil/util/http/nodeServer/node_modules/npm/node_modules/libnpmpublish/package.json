{
  "_from": "libnpmpublish@^1.1.0",
  "_id": "libnpmpublish@1.1.1",
  "_inBundle": false,
  "_integrity": "sha512-nefbvJd/wY38zdt+b9SHL6171vqBrMtZ56Gsgfd0duEKb/pB8rDT4/ObUQLrHz1tOfht1flt2zM+UGaemzAG5g==",
  "_location": "/npm/libnpmpublish",
  "_phantomChildren": {},
  "_requested": {
    "type": "range",
    "registry": true,
    "raw": "libnpmpublish@^1.1.0",
    "name": "libnpmpublish",
    "escapedName": "libnpmpublish",
    "rawSpec": "^1.1.0",
    "saveSpec": null,
    "fetchSpec": "^1.1.0"
  },
  "_requiredBy": [
    "/npm/libnpm"
  ],
  "_resolved": "https://registry.npmjs.org/libnpmpublish/-/libnpmpublish-1.1.1.tgz",
  "_shasum": "ff0c6bb0b4ad2bda2ad1f5fba6760a4af37125f0",
  "_shrinkwrap": null,
  "_spec": "libnpmpublish@^1.1.0",
  "_where": "/Users/zkat/Documents/code/work/npm/node_modules/libnpm",
  "author": {
    "name": "Kat March√°n",
    "email": "kzm@zkat.tech"
  },
  "bugs": {
    "url": "https://github.com/npm/libnpmpublish/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "aproba": "^2.0.0",
    "figgy-pudding": "^3.5.1",
    "get-stream": "^4.0.0",
    "lodash.clonedeep": "^4.5.0",
    "normalize-package-data": "^2.4.0",
    "npm-package-arg": "^6.1.0",
    "npm-registry-fetch": "^3.8.0",
    "semver": "^5.5.1",
    "ssri": "^6.0.1"
  },
  "deprecated": false,
  "description": "Programmatic API for the bits behind npm publish and unpublish",
  "devDependencies": {
    "bluebird": "^3.5.1",
    "nock": "^9.6.1",
    "standard": "*",
    "standard-version": "*",
    "tap": "*",
    "tar-stream": "^1.6.1",
    "weallbehave": "*",
    "weallcontribute": "*"
  },
  "homepage": "https://npmjs.com/package/libnpmpublish",
  "license": "ISC",
  "name": "libnpmpublish",
  "optionalDependencies": {},
  "readme": "# libnpmpublish [![npm version](https://img.shields.io/npm/v/libnpmpublish.svg)](https://npm.im/libnpmpublish) [![license](https://img.shields.io/npm/l/libnpmpublish.svg)](https://npm.im/libnpmpublish) [![Travis](https://img.shields.io/travis/npm/libnpmpublish.svg)](https://travis-ci.org/npm/libnpmpublish) [![AppVeyor](https://ci.appveyor.com/api/projects/status/github/zkat/libnpmpublish?svg=true)](https://ci.appveyor.com/project/zkat/libnpmpublish) [![Coverage Status](https://coveralls.io/repos/github/npm/libnpmpublish/badge.svg?branch=latest)](https://coveralls.io/github/npm/libnpmpublish?branch=latest)\n\n[`libnpmpublish`](https://github.com/npm/libnpmpublish) is a Node.js library for\nprogrammatically publishing and unpublishing npm packages. It does not take care\nof packing tarballs from source code, but once you have a tarball, it can take\ncare of putting it up on a nice registry for you.\n\n## Example\n\n```js\nconst { publish, unpublish } = require('libnpmpublish')\n\n```\n\n## Install\n\n`$ npm install libnpmpublish`\n\n## Table of Contents\n\n* [Example](#example)\n* [Install](#install)\n* [API](#api)\n  * [publish/unpublish opts](#opts)\n  * [`publish()`](#publish)\n  * [`unpublish()`](#unpublish)\n\n### API\n\n#### <a name=\"opts\"></a> `opts` for `libnpmpublish` commands\n\n`libnpmpublish` uses [`npm-registry-fetch`](https://npm.im/npm-registry-fetch).\nMost options are passed through directly to that library, so please refer to\n[its own `opts`\ndocumentation](https://www.npmjs.com/package/npm-registry-fetch#fetch-options)\nfor options that can be passed in.\n\nA couple of options of note for those in a hurry:\n\n* `opts.token` - can be passed in and will be used as the authentication token for the registry. For other ways to pass in auth details, see the n-r-f docs.\n* `opts.Promise` - If you pass this in, the Promises returned by `libnpmpublish` commands will use this Promise class instead. For example: `{Promise: require('bluebird')}`\n\n#### <a name=\"publish\"></a> `> libpub.publish(pkgJson, tarData, [opts]) -> Promise`\n\nPublishes `tarData` to the appropriate configured registry. `pkgJson` should be\nthe parsed `package.json` for the package that is being published.\n\n`tarData` can be a Buffer, a base64-encoded string, or a binary stream of data.\nNote that publishing itself can't be streamed, so the entire stream will be\nconsumed into RAM before publishing (and are thus limited in how big they can\nbe).\n\nSince `libnpmpublish` does not generate tarballs itself, one way to build your\nown tarball for publishing is to do `npm pack` in the directory you wish to\npack. You can then `fs.createReadStream('my-proj-1.0.0.tgz')` and pass that to\n`libnpmpublish`, along with `require('./package.json')`.\n\n`publish()` does its best to emulate legacy publish logic in the standard npm\nclient, and so should generally be compatible with any registry the npm CLI has\nbeen able to publish to in the past.\n\nIf `opts.npmVersion` is passed in, it will be used as the `_npmVersion` field in\nthe outgoing packument. It's recommended you add your own user agent string in\nthere!\n\nIf `opts.algorithms` is passed in, it should be an array of hashing algorithms\nto generate `integrity` hashes for. The default is `['sha512']`, which means you\nend up with `dist.integrity = 'sha512-deadbeefbadc0ffee'`. Any algorithm\nsupported by your current node version is allowed -- npm clients that do not\nsupport those algorithms will simply ignore the unsupported hashes.\n\nIf `opts.access` is passed in, it must be one of `public` or `restricted`.\nUnscoped packages cannot be `restricted`, and the registry may agree or disagree\nwith whether you're allowed to publish a restricted package.\n\n##### Example\n\n```javascript\nconst pkg = require('./dist/package.json')\nconst tarball = fs.createReadStream('./dist/pkg-1.0.1.tgz')\nawait libpub.publish(pkg, tarball, {\n  npmVersion: 'my-pub-script@1.0.2',\n  token: 'my-auth-token-here'\n})\n// Package has been published to the npm registry.\n```\n\n#### <a name=\"unpublish\"></a> `> libpub.unpublish(spec, [opts]) -> Promise`\n\nUnpublishes `spec` from the appropriate registry. The registry in question may\nhave its own limitations on unpublishing.\n\n`spec` should be either a string, or a valid\n[`npm-package-arg`](https://npm.im/npm-package-arg) parsed spec object. For\nlegacy compatibility reasons, only `tag` and `version` specs will work as\nexpected. `range` specs will fail silently in most cases.\n\n##### Example\n\n```javascript\nawait libpub.unpublish('lodash', { token: 'i-am-the-worst'})\n//\n// `lodash` has now been unpublished, along with all its versions, and the world\n// devolves into utter chaos.\n//\n// That, or we all go home to our friends and/or family and have a nice time\n// doing nothing having to do with programming or JavaScript and realize our\n// lives are just so much happier now, and we just can't understand why we ever\n// got so into this JavaScript thing but damn did it pay well. I guess you'll\n// settle for gardening or something.\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/npm/libnpmpublish.git"
  },
  "scripts": {
    "postrelease": "npm publish && git push --follow-tags",
    "prerelease": "npm t",
    "pretest": "standard",
    "release": "standard-version -s",
    "test": "tap -J --100 test/*.js",
    "update-coc": "weallbehave -o . && git add CODE_OF_CONDUCT.md && git commit -m 'docs(coc): updated CODE_OF_CONDUCT.md'",
    "update-contrib": "weallcontribute -o . && git add CONTRIBUTING.md && git commit -m 'docs(contributing): updated CONTRIBUTING.md'"
  },
  "version": "1.1.1"
}
