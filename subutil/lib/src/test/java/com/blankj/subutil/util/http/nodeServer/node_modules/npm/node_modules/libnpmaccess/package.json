{
  "_from": "libnpmaccess@^3.0.1",
  "_id": "libnpmaccess@3.0.1",
  "_inBundle": false,
  "_integrity": "sha512-RlZ7PNarCBt+XbnP7R6PoVgOq9t+kou5rvhaInoNibhPO7eMlRfS0B8yjatgn2yaHIwWNyoJDolC/6Lc5L/IQA==",
  "_location": "/npm/libnpmaccess",
  "_phantomChildren": {},
  "_requested": {
    "type": "range",
    "registry": true,
    "raw": "libnpmaccess@^3.0.1",
    "name": "libnpmaccess",
    "escapedName": "libnpmaccess",
    "rawSpec": "^3.0.1",
    "saveSpec": null,
    "fetchSpec": "^3.0.1"
  },
  "_requiredBy": [
    "/npm",
    "/npm/libnpm"
  ],
  "_resolved": "https://registry.npmjs.org/libnpmaccess/-/libnpmaccess-3.0.1.tgz",
  "_shasum": "5b3a9de621f293d425191aa2e779102f84167fa8",
  "_shrinkwrap": null,
  "_spec": "libnpmaccess@^3.0.1",
  "_where": "/Users/zkat/Documents/code/work/npm/node_modules/libnpm",
  "author": {
    "name": "Kat March√°n",
    "email": "kzm@zkat.tech"
  },
  "bugs": {
    "url": "https://github.com/npm/libnpmaccess/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "aproba": "^2.0.0",
    "get-stream": "^4.0.0",
    "npm-package-arg": "^6.1.0",
    "npm-registry-fetch": "^3.8.0"
  },
  "deprecated": false,
  "description": "programmatic library for `npm access` commands",
  "devDependencies": {
    "nock": "^9.6.1",
    "standard": "*",
    "standard-version": "*",
    "tap": "*",
    "weallbehave": "*",
    "weallcontribute": "*"
  },
  "homepage": "https://npmjs.com/package/libnpmaccess",
  "license": "ISC",
  "name": "libnpmaccess",
  "optionalDependencies": {},
  "readme": "# libnpmaccess [![npm version](https://img.shields.io/npm/v/libnpmaccess.svg)](https://npm.im/libnpmaccess) [![license](https://img.shields.io/npm/l/libnpmaccess.svg)](https://npm.im/libnpmaccess) [![Travis](https://img.shields.io/travis/npm/libnpmaccess/latest.svg)](https://travis-ci.org/npm/libnpmaccess) [![AppVeyor](https://img.shields.io/appveyor/ci/zkat/libnpmaccess/latest.svg)](https://ci.appveyor.com/project/zkat/libnpmaccess) [![Coverage Status](https://coveralls.io/repos/github/npm/libnpmaccess/badge.svg?branch=latest)](https://coveralls.io/github/npm/libnpmaccess?branch=latest)\n\n[`libnpmaccess`](https://github.com/npm/libnpmaccess) is a Node.js\nlibrary that provides programmatic access to the guts of the npm CLI's `npm\naccess` command and its various subcommands. This includes managing account 2FA,\nlisting packages and permissions, looking at package collaborators, and defining\npackage permissions for users, orgs, and teams.\n\n## Example\n\n```javascript\nconst access = require('libnpmaccess')\n\n// List all packages @zkat has access to on the npm registry.\nconsole.log(Object.keys(await access.lsPackages('zkat')))\n```\n\n## Table of Contents\n\n* [Installing](#install)\n* [Example](#example)\n* [Contributing](#contributing)\n* [API](#api)\n  * [access opts](#opts)\n  * [`public()`](#public)\n  * [`restricted()`](#restricted)\n  * [`grant()`](#grant)\n  * [`revoke()`](#revoke)\n  * [`tfaRequired()`](#tfa-required)\n  * [`tfaNotRequired()`](#tfa-not-required)\n  * [`lsPackages()`](#ls-packages)\n  * [`lsPackages.stream()`](#ls-packages-stream)\n  * [`lsCollaborators()`](#ls-collaborators)\n  * [`lsCollaborators.stream()`](#ls-collaborators-stream)\n\n### Install\n\n`$ npm install libnpmaccess`\n\n### Contributing\n\nThe npm team enthusiastically welcomes contributions and project participation!\nThere's a bunch of things you can do if you want to contribute! The [Contributor\nGuide](CONTRIBUTING.md) has all the information you need for everything from\nreporting bugs to contributing entire new features. Please don't hesitate to\njump in if you'd like to, or even ask us questions if something isn't clear.\n\nAll participants and maintainers in this project are expected to follow [Code of\nConduct](CODE_OF_CONDUCT.md), and just generally be excellent to each other.\n\nPlease refer to the [Changelog](CHANGELOG.md) for project history details, too.\n\nHappy hacking!\n\n### API\n\n#### <a name=\"opts\"></a> `opts` for `libnpmaccess` commands\n\n`libnpmaccess` uses [`npm-registry-fetch`](https://npm.im/npm-registry-fetch).\nAll options are passed through directly to that library, so please refer to [its\nown `opts`\ndocumentation](https://www.npmjs.com/package/npm-registry-fetch#fetch-options)\nfor options that can be passed in.\n\nA couple of options of note for those in a hurry:\n\n* `opts.token` - can be passed in and will be used as the authentication token for the registry. For other ways to pass in auth details, see the n-r-f docs.\n* `opts.otp` - certain operations will require an OTP token to be passed in. If a `libnpmaccess` command fails with `err.code === EOTP`, please retry the request with `{otp: <2fa token>}`\n* `opts.Promise` - If you pass this in, the Promises returned by `libnpmaccess` commands will use this Promise class instead. For example: `{Promise: require('bluebird')}`\n\n#### <a name=\"public\"></a> `> access.public(spec, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec.\n\nMakes package described by `spec` public.\n\n##### Example\n\n```javascript\nawait access.public('@foo/bar', {token: 'myregistrytoken'})\n// `@foo/bar` is now public\n```\n\n#### <a name=\"restricted\"></a> `> access.restricted(spec, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec.\n\nMakes package described by `spec` private/restricted.\n\n##### Example\n\n```javascript\nawait access.restricted('@foo/bar', {token: 'myregistrytoken'})\n// `@foo/bar` is now private\n```\n\n#### <a name=\"grant\"></a> `> access.grant(spec, team, permissions, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec. `team` must be a fully-qualified team name, in the `scope:team`\nformat, with or without the `@` prefix, and the team must be a valid team within\nthat scope. `permissions` must be one of `'read-only'` or `'read-write'`.\n\nGrants `read-only` or `read-write` permissions for a certain package to a team.\n\n##### Example\n\n```javascript\nawait access.grant('@foo/bar', '@foo:myteam', 'read-write', {\n  token: 'myregistrytoken'\n})\n// `@foo/bar` is now read/write enabled for the @foo:myteam team.\n```\n\n#### <a name=\"revoke\"></a> `> access.revoke(spec, team, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec. `team` must be a fully-qualified team name, in the `scope:team`\nformat, with or without the `@` prefix, and the team must be a valid team within\nthat scope. `permissions` must be one of `'read-only'` or `'read-write'`.\n\nRemoves access to a package from a certain team.\n\n##### Example\n\n```javascript\nawait access.revoke('@foo/bar', '@foo:myteam', {\n  token: 'myregistrytoken'\n})\n// @foo:myteam can no longer access `@foo/bar`\n```\n\n#### <a name=\"tfa-required\"></a> `> access.tfaRequired(spec, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec.\n\nMakes it so publishing or managing a package requires using 2FA tokens to\ncomplete operations.\n\n##### Example\n\n```javascript\nawait access.tfaRequires('lodash', {token: 'myregistrytoken'})\n// Publishing or changing dist-tags on `lodash` now require OTP to be enabled.\n```\n\n#### <a name=\"tfa-not-required\"></a> `> access.tfaNotRequired(spec, [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec.\n\nDisabled the package-level 2FA requirement for `spec`. Note that you will need\nto pass in an `otp` token in `opts` in order to complete this operation.\n\n##### Example\n\n```javascript\nawait access.tfaNotRequired('lodash', {otp: '123654', token: 'myregistrytoken'})\n// Publishing or editing dist-tags on `lodash` no longer requires OTP to be\n// enabled.\n```\n\n#### <a name=\"ls-packages\"></a> `> access.lsPackages(entity, [opts]) -> Promise`\n\n`entity` must be either a valid org or user name, or a fully-qualified team name\nin the `scope:team` format, with or without the `@` prefix.\n\nLists out packages a user, org, or team has access to, with corresponding\npermissions. Packages that the access token does not have access to won't be\nlisted.\n\nIn order to disambiguate between users and orgs, two requests may end up being\nmade when listing orgs or users.\n\nFor a streamed version of these results, see\n[`access.lsPackages.stream()`](#ls-package-stream).\n\n##### Example\n\n```javascript\nawait access.lsPackages('zkat', {\n  token: 'myregistrytoken'\n})\n// Lists all packages `@zkat` has access to on the registry, and the\n// corresponding permissions.\n```\n\n#### <a name=\"ls-packages-stream\"></a> `> access.lsPackages.stream(scope, [team], [opts]) -> Stream`\n\n`entity` must be either a valid org or user name, or a fully-qualified team name\nin the `scope:team` format, with or without the `@` prefix.\n\nStreams out packages a user, org, or team has access to, with corresponding\npermissions, with each stream entry being formatted like `[packageName,\npermissions]`. Packages that the access token does not have access to won't be\nlisted.\n\nIn order to disambiguate between users and orgs, two requests may end up being\nmade when listing orgs or users.\n\nThe returned stream is a valid `asyncIterator`.\n\n##### Example\n\n```javascript\nfor await (let [pkg, perm] of access.lsPackages.stream('zkat')) {\n  console.log('zkat has', perm, 'access to', pkg)\n}\n// zkat has read-write access to eggplant\n// zkat has read-only access to @npmcorp/secret\n```\n\n#### <a name=\"ls-collaborators\"></a> `> access.lsCollaborators(spec, [user], [opts]) -> Promise`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec. `user` must be a valid user name, with or without the `@`\nprefix.\n\nLists out access privileges for a certain package. Will only show permissions\nfor packages to which you have at least read access. If `user` is passed in, the\nlist is filtered only to teams _that_ user happens to belong to.\n\nFor a streamed version of these results, see [`access.lsCollaborators.stream()`](#ls-collaborators-stream).\n\n##### Example\n\n```javascript\nawait access.lsCollaborators('@npm/foo', 'zkat', {\n  token: 'myregistrytoken'\n})\n// Lists all teams with access to @npm/foo that @zkat belongs to.\n```\n\n#### <a name=\"ls-collaborators-stream\"></a> `> access.lsCollaborators.stream(spec, [user], [opts]) -> Stream`\n\n`spec` must be an [`npm-package-arg`](https://npm.im/npm-package-arg)-compatible\nregistry spec. `user` must be a valid user name, with or without the `@`\nprefix.\n\nStream out access privileges for a certain package, with each entry in `[user,\npermissions]` format. Will only show permissions for packages to which you have\nat least read access. If `user` is passed in, the list is filtered only to teams\n_that_ user happens to belong to.\n\nThe returned stream is a valid `asyncIterator`.\n\n##### Example\n\n```javascript\nfor await (let [usr, perm] of access.lsCollaborators.stream('npm')) {\n  console.log(usr, 'has', perm, 'access to npm')\n}\n// zkat has read-write access to npm\n// iarna has read-write access to npm\n```\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/npm/libnpmaccess.git"
  },
  "scripts": {
    "postrelease": "npm publish && git push --follow-tags",
    "prerelease": "npm t",
    "pretest": "standard",
    "release": "standard-version -s",
    "test": "tap -J --100 test/*.js",
    "update-coc": "weallbehave -o . && git add CODE_OF_CONDUCT.md && git commit -m 'docs(coc): updated CODE_OF_CONDUCT.md'",
    "update-contrib": "weallcontribute -o . && git add CONTRIBUTING.md && git commit -m 'docs(contributing): updated CONTRIBUTING.md'"
  },
  "version": "3.0.1"
}
